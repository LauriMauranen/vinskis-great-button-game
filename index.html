<html>
  <body>
    <h1 id="score" ></h1>
    <input 
      id="btn"
      class="button" 
      type="image" 
      src="https://m.media-amazon.com/images/I/51AaftUj5KL._AC_SL1000_.jpg" 
      onclick="onPress()"
    />
    <!-- <video --> 
    <!--   id="video" -->
    <!--   class="video" -->
    <!--   src="https://www.youtube.com/watch?v=dQw4w9WgXcQ"> -->
    <!-- </video> -->
  </body>
</html>

<style>
body {
  margin: 100px;
}

.button {
  display: block;
  height: 300px;
  margin: auto;
  padding: 150px;
}

.video {
  display: none;
  height: 200px;
}
</style>

<script>
  const scoreId = 'score'
  const btnId = 'btn'
  const videoId = 'video'

  const btnSrc = "https://m.media-amazon.com/images/I/51AaftUj5KL._AC_SL1000_.jpg" 

  const p = document.getElementById(scoreId)
  const btn = document.getElementById(btnId)
  const video = document.getElementById(btnId)
  
  const pressSounds = [
    'public/sound/bruh-1.mp3',
    'public/sound/explosion-1.mp3',
    'public/sound/yeehaw-1.mp3',
  ]

  p.innerText = 0

  function onPress() {
    btn.src = "https://thumbs.dreamstime.com/z/red-button-isolated-white-background-pressed-d-illustration-red-button-isolated-white-background-270798034.jpg?ct=jpeg" 

    const minus = Math.random() < 0.03 
    const plus = Math.random() < 0.01 

    if (plus) {
      // video.style.display = 'block'
      // btn.style.display = 'none'

      // video.play()

      // setTimeout(() => {
      //   video.style.display = 'none'
      //   btn.style.display = 'block'
      //   video.reload()
      // }, 5000)
      const audio = new Audio(pressSounds[2])
      audio.fastSeek(0)
      audio.play()
    } else if (minus) {
      const audio = new Audio(pressSounds[1])
      audio.fastSeek(0)
      audio.play()
    } else {
      const audio = new Audio(pressSounds[0])
      audio.fastSeek(0)
      audio.play()
    }

    setTimeout(() => btn.src = btnSrc, 300)

    p.innerText = Number(p.innerText) + 1 + plus*99 - (!plus && minus)*51
  }
</script>
